%ion-view{ title: "TipAdvisor"}
  %ion-content{ "ng-controller" => "homeCtrl" }
    .four-panel-container
      .bill-panel.quarter-panel
        %p The bill is {{ bill.currency | currency }}
        %input{ type: "number", "ng-model" => "bill.currency", "ng-change" => "recalcTipPercent(); recalcTaxPercent(); calcTotal()", placeholder: "{{ bill.currency | number : 2}}", "inputOnlyNumsTwoDec" => "" }
      .tip-panel.quarter-panel
        %p The tip is {{ tip.percent * 100 | number : 2 }} %
        %input{ type: "number", "ng-model" => "tip.currency", "ng-change" => "recalcTipPercent(); calcTotal()" }
        %p Change tip by percent
        %input{ type: "range", min: "0.00", max: "0.30", step: "0.01", "ng-model" => "tip.percent", "ng-change" => "recalcTipCurrency(); calcTotal()" }
      .tax-panel.quarter-panel
        %p The tax is: {{ tax.currency | currency }}
        %input{ type: "number", "ng-model" => "tax.currency", "ng-change" => "recalcTaxPercent(); calcTotal()" }

        %p Change tax by percent (current percent is {{ tax.percent * 100 | number : 2 }})
        %input{ type: "range", min: "0.00", max: "1", step: "0.01","ng-model" => "tax.percent", "ng-change" => "recalcTaxCurrency(); calcTotal()"}
      .total-panel.quarter-panel
        %p The total is {{ total | currency }}
      / %p Dollars are {{ bill.dollars }}
      / %p Cents are {{ bill.cents }}
      / %input{ type: "text", "ng-model" => "newDollars", placeholder: "New Dollars" }
      / %input{ type: "text", "ng-model" => "newCents", placeholder: "New Cents" }
      / %button{ type: "button", "ng-click" => "setBill(newDollars, newCents)" }Set New $ and Cents
    / %p The test dollars are {{ testDollars }}
    / %ion-slide-box{ "on-slide-changed" => "slideHasChanged($index)", "show-pager" => "false", "does-continue" => "true" }
    /   %ion-slide
    /     .slide-box.slide-bill
    /       .slide-content
    /         .label Bill
    /         .number {{ billAsCurrency | currency }}
    /   %ion-slide{ "prevent-drag" => "" }
    /     .slide-box.slide-tip
    /       .slide-content
    /         .label Tip
    /         .number {{ tipAsCurrency | currency }}
    /         .percent {{ tipAsPercent | number }}%
    /         %input.range#range-tip{ type: "range", min: "0", max: "30", step: "1", "ng-model" => "tip.percent", "ng-change" => "tipRangeChange()" }       
    /   %ion-slide
    /     .slide-box.slide-tax
    /       .slide-content
    /         .label Tax
    /         .number {{ taxAsCurrency | currency }}
    /         .percent {{ taxAsPercent | number }}%
    /         %input.range#range-tax{ type: "range", min: "0", max: "30", step: "1", "ng-model" => "tax.percent" }
    /   %ion-slide
    /     .slide-box.slide-box-lg.slide-total
    /       .slide-content
    /         .summary.summary-bill 
    /           .summary-content 
    /             .label Bill
    /             .number {{ billAsCurrency | currency }}
    /         .summary.summary-tip
    /           .summary-content
    /             .label Tip 
    /             .number {{ tipAsCurrency | currency }} 
    /             .number ({{ tipAsPercent | number }}%)
    /         .summary.summary-tax
    /           .summary-content
    /             .label Tax
    /             .number {{ taxAsCurrency | currency }}
    /             .number ({{ taxAsPercent | number }}%)
    /         .summary.summary-total
    /           .summary-content
    /             .label Total
    / %input.range.testrange{ type: "range", min: "0", max: "30", step: "1", "ng-model" => "testDollars", "ng-change" => "testing()" }
    / %input{ type: "text", "ng-model" => "testDollars" }
    / %button{ type: "button", "ng-click" => "testSetDollars()"} Test set $$$

    / %div#calc{ "calc" => "" }
